<%- include('partials/header') %>

    <!-- Hero / Biography Section -->
    <section class="py-12 md:py-20 px-6 md:px-12 max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12">
        <div class="w-full md:w-1/3">
            <div class="aspect-[3/4] overflow-hidden rounded-sm bg-gray-200 shadow-md">
                <img src="<%= biography ? biography.image_url : 'images/tentang.jpeg' %>" alt="Hudan Hidayat"
                    class="w-full h-full object-cover hover:scale-105 transition duration-500">
            </div>
        </div>
        <div class="w-full md:w-2/3">
            <h2 class="text-3xl font-serif text-salihara-dark mb-6 border-b border-salihara-red inline-block pb-2">
                <%= biography ? biography.title : 'Tentang Hudan Hidayat' %>
            </h2>
            <div class="space-y-4 text-gray-600 leading-relaxed text-justify">
                <%- biography ? biography.content : '<p>Belum ada bio.</p>' %>
            </div>
        </div>
    </section>

    <!-- Books Section -->
    <section class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">KARYA BUKU</h2>
        </div>
        <!-- Mobile Slider / Desktop Grid -->
        <div
            class="flex overflow-x-auto snap-x snap-mandatory gap-6 pb-6 md:grid md:grid-cols-4 md:gap-8 md:overflow-visible">
            <% books.forEach(book=> { %>
                <a href="/book/<%= book.id %>" class="min-w-[70%] md:min-w-0 snap-center group block">
                    <div class="aspect-[2/3] bg-gray-100 mb-4 overflow-hidden rounded shadow-sm">
                        <img src="<%= book.image_url || 'https://placehold.co/400x600?text=No+Cover' %>"
                            alt="<%= book.title %>"
                            class="w-full h-full object-cover group-hover:scale-105 transition duration-300">
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red">
                        <%= book.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (books.length===0) { %>
                        <p class="text-gray-500 col-span-4 text-center">Belum ada buku yang ditambahkan.</p>
                        <% } %>
        </div>
    </section>

    <!-- Sub-hero Navigation -->
    <section
        class="py-12 px-6 flex justify-center sticky top-[72px] z-40 bg-white/95 backdrop-blur-sm shadow-sm md:static md:bg-transparent md:shadow-none">
        <div class="w-full max-w-5xl text-center">
            <p class="text-xs text-gray-500 mb-6 tracking-widest uppercase hidden md:block">Discover works and
                documentation</p>
            <div
                class="flex flex-wrap justify-center items-center gap-x-6 gap-y-3 border-t border-b border-gray-300 py-4">
                <a href="#esai"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Esai</a>
                <span class="text-gray-300 hidden md:inline">|</span>
                <a href="#novel"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Novel</a>
                <span class="text-gray-300 hidden md:inline">|</span>
                <a href="#cerpen"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Cerpen</a>
                <span class="text-gray-300 hidden md:inline">|</span>
                <a href="#puisi"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Puisi</a>
                <span class="text-gray-300 hidden md:inline">|</span>
                <a href="#dokumentasi"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Dokumentasi</a>
                <span class="text-gray-300 hidden md:inline">|</span>
                <a href="#galeri"
                    class="text-sm font-semibold uppercase tracking-wider hover:text-salihara-red transition">Galeri</a>
            </div>
        </div>
    </section>

    <!-- Esai Section -->
    <section id="esai" class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100 scroll-mt-24">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Esai</h2>
            <a href="/esai" class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">
                See All <span class="ml-1 text-lg">→</span>
            </a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <% esais.forEach((esai, index)=> { %>
                <a href="/esai/<%= esai.id %>" class="group cursor-pointer block">
                    <div class="bg-gray-200 aspect-[4/3] mb-4 overflow-hidden relative">
                        <% if (esai.image_url) { %>
                            <img src="<%= esai.image_url %>" alt="<%= esai.title %>"
                                class="w-full h-full object-cover transition duration-300 group-hover:scale-105">
                            <% } else { %>
                                <div class="w-full h-full flex items-center justify-center bg-red-700 text-white p-4">
                                    <div class="text-center">
                                        <h3 class="text-xl font-bold line-clamp-2">
                                            <%= esai.title %>
                                        </h3>
                                        <p class="text-xs mt-2">
                                            <%= new Date(esai.created_at).getFullYear() %>
                                        </p>
                                    </div>
                                </div>
                                <% } %>
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red line-clamp-2">
                        <%= esai.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (esais.length===0) { %>
                        <p class="text-gray-500 col-span-3 text-center">Belum ada esai.</p>
                        <% } %>
        </div>
    </section>

    <!-- Novel Section -->
    <section id="novel" class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100 scroll-mt-24">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Novel</h2>
            <a href="/novel" class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">See
                All
                <span class="ml-1 text-lg">→</span></a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <% novels.forEach(novel=> { %>
                <a href="/novel/<%= novel.id %>" class="group cursor-pointer block">
                    <div class="bg-amber-100 aspect-[3/4] mb-4 overflow-hidden relative"> <!-- Portrait for Novels -->
                        <img src="<%= novel.image_url || 'https://placehold.co/450x600?text=Novel' %>"
                            alt="<%= novel.title %>"
                            class="w-full h-full object-cover group-hover:scale-105 transition">
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red line-clamp-2">
                        <%= novel.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (novels.length===0) { %>
                        <p class="text-gray-500 col-span-3 text-center">Belum ada novel.</p>
                        <% } %>
        </div>
    </section>

    <!-- Cerpen Section -->
    <section id="cerpen" class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100 scroll-mt-24">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Cerpen</h2>
            <a href="/cerpen" class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">See
                All
                <span class="ml-1 text-lg">→</span></a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <% cerpens.forEach(cerpen=> { %>
                <a href="/cerpen/<%= cerpen.id %>" class="group cursor-pointer block">
                    <div class="bg-blue-50 aspect-video mb-4 overflow-hidden">
                        <img src="<%= cerpen.image_url || 'https://placehold.co/600x338?text=Cerpen' %>"
                            alt="<%= cerpen.title %>"
                            class="w-full h-full object-cover group-hover:scale-105 transition">
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red line-clamp-2">
                        <%= cerpen.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (cerpens.length===0) { %>
                        <p class="text-gray-500 col-span-3 text-center">Belum ada cerpen.</p>
                        <% } %>
        </div>
    </section>

    <!-- Puisi Section -->
    <section id="puisi" class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100 scroll-mt-24">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Puisi</h2>
            <a href="/puisi" class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">See
                All
                <span class="ml-1 text-lg">→</span></a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <% puisis.forEach(puisi=> { %>
                <a href="/puisi/<%= puisi.id %>" class="group cursor-pointer block">
                    <div
                        class="border border-gray-200 aspect-[4/3] mb-4 flex items-center justify-center p-8 bg-white hover:border-salihara-red transition overflow-hidden">
                        <% if (puisi.image_url) { %>
                            <img src="<%= puisi.image_url %>" alt="<%= puisi.title %>"
                                class="w-full h-full object-cover">
                            <% } else { %>
                                <p class="font-serif italic text-lg text-center text-gray-600 line-clamp-4">"<%=
                                        puisi.content.replace(/<[^>]*>/g, '').substring(0, 50) %>..."</p>
                                <% } %>
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red line-clamp-2">
                        <%= puisi.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (puisis.length===0) { %>
                        <p class="text-gray-500 col-span-3 text-center">Belum ada puisi.</p>
                        <% } %>
        </div>
    </section>

    <!-- Dokumentasi Section -->
    <section id="dokumentasi" class="py-12 px-6 md:px-12 max-w-7xl mx-auto border-b border-gray-100 scroll-mt-24">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Dokumentasi</h2>
            <a href="/dokumentasi"
                class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">See All
                <span class="ml-1 text-lg">→</span></a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <% dokumentasis.forEach(doc=> { %>
                <a href="/dokumentasi/<%= doc.id %>" class="group cursor-pointer block">
                    <div class="aspect-video bg-black mb-4 relative overflow-hidden">
                        <img src="<%= doc.image_url || 'https://placehold.co/600x338?text=Documentation' %>"
                            alt="<%= doc.title %>"
                            class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition">
                    </div>
                    <h3 class="font-bold text-sm uppercase leading-tight group-hover:text-salihara-red line-clamp-2">
                        <%= doc.title %>
                    </h3>
                </a>
                <% }); %>
                    <% if (dokumentasis.length===0) { %>
                        <p class="text-gray-500 col-span-3 text-center">Belum ada dokumentasi.</p>
                        <% } %>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="galeri" class="py-12 px-6 md:px-12 max-w-7xl mx-auto">
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-3xl font-normal">Galeri Foto</h2>
            <a href="/gallery"
                class="text-xs font-bold uppercase tracking-widest flex items-center hover:underline">View
                Gallery <span class="ml-1 text-lg">→</span></a>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <% gallery.forEach((item, index)=> { %>
                <!-- First item is large (span 2 cols and 2 rows) -->
                <% if (index===0) { %>
                    <a href="/gallery/<%= item.id %>"
                        class="col-span-1 md:col-span-2 row-span-2 aspect-square relative group overflow-hidden block">
                        <img src="<%= item.image_url %>" alt="<%= item.caption %>"
                            class="w-full h-full object-cover transition duration-500 group-hover:scale-105">
                        <div
                            class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition duration-300 flex items-end p-4">
                            <p class="text-white opacity-0 group-hover:opacity-100 transition text-sm">
                                <%= item.caption %>
                            </p>
                        </div>
                    </a>
                    <% } else { %>
                        <a href="/gallery/<%= item.id %>"
                            class="col-span-1 aspect-square relative group overflow-hidden block">
                            <img src="<%= item.image_url %>" alt="<%= item.caption %>"
                                class="w-full h-full object-cover transition duration-500 group-hover:scale-105">
                            <div
                                class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition duration-300 flex items-end p-2">
                                <p class="text-white opacity-0 group-hover:opacity-100 transition text-xs">
                                    <%= item.caption %>
                                </p>
                            </div>
                        </a>
                        <% } %>
                            <% }); %>
                                <% if (gallery.length===0) { %>
                                    <p class="text-gray-500 col-span-4 text-center">Belum ada foto di galeri.</p>
                                    <% } %>
        </div>
    </section>



    <%- include('partials/footer') %>